# Proxy WispHub API
# Maps /api/wisphub/... -> https://api.wisphub.io/api/...
location /api/wisphub/ {
    proxy_pass https://api.wisphub.io/api/;
    
    # Inject Secrets (Environment Variables)
    proxy_set_header Authorization "Api-Key ${VITE_WISPHUB_API_KEY}";
    proxy_set_header Api-Key "${VITE_WISPHUB_API_KEY}";
    
    # Required Headers for WispHub
    proxy_set_header Origin "https://api.wisphub.io";
    proxy_set_header Referer "https://api.wisphub.io/";
    proxy_set_header Host api.wisphub.io;
    
    # SSL Configuration
    proxy_ssl_server_name on;
    proxy_ssl_protocols TLSv1.2 TLSv1.3;
}

# Proxy SmartOLT API
# Maps /api/smartolt/... -> https://rapilinksas.smartolt.com/api/...
location /api/smartolt/ {
    proxy_pass https://rapilinksas.smartolt.com/api/;
    
    # Inject Secrets
    proxy_set_header X-Token "${VITE_SMARTOLT_API_KEY}";
    
    # SSL & Host
    proxy_ssl_server_name on;
    proxy_set_header Host rapilinksas.smartolt.com;
}
